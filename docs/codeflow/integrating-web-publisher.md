---
title: Интеграция документов Web Publisher
---

# {{ $frontmatter.title }}

На этой странице рассказывается об интеграции Web Publisher в ваши документы, чтобы снизить барьер для внесения вклада в документацию.

## Что такое веб-издатель?

Web Publisher - это инструмент для редактирования страниц, который позволяет без особых усилий вносить документы, в том числе и тем из нас, кто не является техническим специалистом.

В Web Publisher имеется **предварительный просмотр, который обновляется в реальном времени** по мере внесения правок. **Когда вы готовы, Web Publisher фиксирует изменения, создает для вас форк и pull request.** Вам не нужно настраивать локальное окружение, клонировать репозиторий, устанавливать зависимости или запускать сервер, чтобы увидеть изменения. Все это происходит внутри вашего браузера.

<img lang="en" src="./assets/wp-whole.png" alt="Web Publisher" style="width: 600px"/>

Всё, что вам нужно для редактирования документов в Web Publisher, - это учетная запись StackBlitz.

## Изменение нескольких файлов

Web Publisher позволяет редактировать одну страницу. 

Однако некоторые правки требуют изменения нескольких файлов. В этом случае вы можете переключиться на среду Codeflow IDE, в которой будет запущен весь репозиторий.

Для этого нажмите на кнопку "...". значок в правом верхнем углу панели редактора, в результате чего появится всплывающее окно с надписью "Открыть в Codeflow IDE". кнопка:

<img lang="en" src="./assets/wp-open-in-ide-popup.png" alt="Nav Bar" style="width: 300px"/>

Вы будете перенаправлены в редактор Web Studio и сможете продолжить работу.

## Добавление Web Publisher в ваши документы

Этот раздел шаг за шагом поможет вам интегрировать Web Publisher в ваши документы.

### 1. Проверка совместимости с репо

Прежде чем начать, убедитесь, что ваша цепочка инструментов работает в WebContainers. Для этого добавьте `pr.new` в начало URL вашего репозитория документов GitHub. 

:::info Пример
Это адрес GitHub репозитория документации StackBlitz:

`https://github.com/stackblitz/docs/`

Чтобы проверить, работает ли это репо в WebContainers, мы добавим `pr.new` в начало URL:

`https://pr.new/github.com/stackblitz/docs/`
:::

Если вы видите, что **превью загружается правильно** (см. ниже), это означает, что ваш dev-сервер работает правильно в WebContainers и ваша репозитория совместима.

<img lang="en" src="./assets/codeflow-ide-opening-repo.gif" alt="Opening a repo in Codeflow IDE" />

### 2. Укажите ссылку для редактирования веб-издателя

Давайте составим URL, который укажет, какой файл Web Publisher должен отображать в редакторе и какой путь отображать в предварительном просмотре. Вы можете воспользоваться приведенным ниже генератором ссылок или создать ссылку самостоятельно.

:::tip Генератор ссылок веб-издателя
Кроме того, вы можете использовать **генератор ссылок веб-издательства** для составления своей ссылки:

<iframe src="https://stackblitz.com/edit/vue-c2wltp?embed=1&file=src/App.vue&hideExplorer=1&hideNavigation=1&view=preview&ctl=1" style="width:100%;height:450px;border:1px solid var(--vp-custom-block-tip-border);border-radius:10px"></iframe>
:::

Ссылки веб-издателя следуют этому образцу:


`https://pr.new/github.com/{repo-owner's-username}/{repo}/edit/{branch}/{file-path-in-the-repo}`


Например, вот ссылка Web Publisher на нашу страницу документов:

`https://pr.new/github.com/stackblitz/docs/edit/main/docs/guides/user-guide/what-is-stackblitz.md`

### Настройте ссылку
Теперь, когда у вас есть базовая ссылка, вы можете далее **настроить пользовательский опыт с помощью параметров запроса**. 

:::info
Чтобы указать первый параметр, добавьте `?` в конце базовой ссылки. Соедините последующие с помощью `&`. 
:::

### `initialPath`

<p>
    <b>Поведение по умолчанию:</b> окно предварительного просмотра рендерит домашнюю страницу, поскольку не всегда путь к файлу или имя файла совпадают с рендерингом маршрута.<br/>
    <b>Аргумент:</b> A маршрут, который необходимо проложить.<br/>
    <b>Пример:</b> <code>initialPath=guides/user-guide/what-is-stackblitz</code><br/>
</p>

### `view`

<p>
    <b>Поведение по умолчанию:</b> В Web Publisher есть Редактор и Предварительный просмотр. <br/>
    <b>Аргумент:</b> <code>редактор</code> | <code>предпросмотр</code> | <code>по умолчанию</code><br/>
    <b>Пример:</b> <code>view=editor</code><br/>
</p>

### 4. Дополнительно: Установка бота CodeflowApp

<!--@include: ./parts/codeflowapp-bot.md-->

<!--@include: ./parts/installing-codeflowapp.md-->

Следуйте [этому руководству по интеграции](./integrating-codeflowapp-bot.md), чтобы интегрировать бота CodeflowApp в ваш проект.

<!-- ### 5. Настройте "редактировать эту страницу"

Чтобы включить редактирование сайтов, созданных с помощью генераторов, необходимо изменить настройки по умолчанию. Обратитесь к таблице ниже, чтобы узнать, какие файлы нужно изменить. -->

## "Редактирование в Web Publisher" кнопка

Чтобы помочь пользователям легко найти дорогу к Web Publisher на вашем сайте или в репозитории, вы можете добавить кнопку CTA (call-to-action) на свой сайт или в файл README. 

| Button preview | Direct URL |
| --- | --- |
| <img alt="Edit in Web Publisher" src="/img/edit_in_web_publisher.svg" /> | <a href="/img/edit_in_web_publisher.svg" target="_blank">edit_in_web_publisher.svg</a> |
| <img alt="Edit in Web Publisher" src="/img/edit_in_web_publisher_small.svg" /> | <a href="/img/edit_in_web_publisher_small.svg" target="_blank">edit_in_web_publisher_small.svg</a> |

::: tip
Вы можете разместить изображения на своих серверах или напрямую использовать наши URL-адреса изображений.
:::

## Режим совместимости

<!--@include: ./parts/wp-compatibility-mode.md-->
